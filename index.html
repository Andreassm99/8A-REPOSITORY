<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Felles-skapet</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <header>
        <h1><b>Felles-skapet</b></h1>
        <p>Denne spørre undersøkelsen har som formål og vite hvilke rutiner du i prosjektgruppa foretrekker!</p>
    </header>
    <main>
        <form>
            <label for="fname">First name:</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Last name:</label><br>
            <input tyoe="text" id="lname" name="lname"><br>
            <!--kode for slider er hentet fra: https://www.w3schools.com/howto/howto_js_rangeslider.asp-->
            <h3>Er du en morgen fugl eller en natt ugle?</h3>
            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>Jobbe alene eller jobbe sammen?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>fortell meg bakhistorien eller kom til poenget?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>Trenger å snakke om det eller gå videre til neste steg?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>Planlegge et møte eller gjøre det spontant når det trengs?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>Video chat eller discord meldinger?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>9 - 17 perioden eller jeg har ingen fast rutine?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>Jeg liker å jobbe hjemme eller skolen?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>kaffein eller ikke kaffein?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <h3>trenger pause eller bli ferdig med det så fort som mulig?</h3>
              <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
              </div><br>
              <input type="submit" value="Submit">
            </form>
            <div class="results">
                <h2>Form Data (JSON)</h2>
                <pre></pre> <!--Preview av json code-->
            </div>
        
            </main>
            <footer>
                <h2>tusen takk for svaret ditt!</h2>
            </footer>
            </body>
        <script>
    
    // Post Method using Fetch API hentet fra https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch:
    async function postData(url = "", data = {}) {
            // Default options are marked with *
            const response = await fetch(url, {
              method: "POST", // *GET, POST, PUT, DELETE, etc.
              mode: "cors", // no-cors, *cors, same-origin
              cache: "no-cache", // *default, no-cache, reload, force-cache,only-if-cached
              credentials: "same-origin", // include, *same-origin, omit
              headers: {
                "Content-Type": "application/json",
                // 'Content-Type': 'application/x-www-form-urlencoded',
              },
              redirect: "follow", // manual, *follow, error
              referrerPolicy: "no-referrer", // no-referrer,*no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
              body: JSON.stringify(data), // body data type must match"Content-Type"header
            });
            return response.json(); // parses JSON response into native JavaScriptobjects
          }
            function handleSubmit(event) {
            event.preventDefault();
            const data = new FormData(event.target);
            const formJSON = Object.fromEntries(data.entries());
            const results = document.querySelector(".results pre");
            postData("https://bacit.info/", formJSON).then((data) => {
              results.innerText = JSON.stringify(data, null, 2);
            });
          }
          const form = document.querySelector("form");
          form.addEventListener("submit", handleSubmit);
    
          var slider = document.getElementById("myRange");
          var output = document.getElementById("demo");
          output.innerHTML = slider.value; // Display the default slider value
    
    // Update the current slider value (each time you drag the slider handle)
    slider.oninput = function() {
    output.innerHTML = this.value;
    }
        </script>
    
    </html>